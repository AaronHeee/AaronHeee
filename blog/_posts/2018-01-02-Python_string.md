---
layout: post
title: "Python文本处理"
author: "Aaron He"
---

# 导语

**为什么要学 Python 文本处理？**

迄今，自己处理的最多的文件是文本，用的最简洁的语言是python。两者结合，迅速利落地干掉数据预处理。



# 字符串编码

### ASCII 码

**范围：** 10个数字、26个大小写字母、常见符号

### GB2312 码

**范围：** 中文和英文、由我国制定

### UTF-8 码

**范围：** 所有语言需要的字符、兼容ASCII码



# 字符串格式化

### 原始字符串声明：

```python
path = r'C:\Windows\notebook'  # 不对\n进行转义
```

 ### % 字符串格式化：

**格式：**   $'\% [-] [+] [0] [m] [.n] 格式字符’\%x$

**含义：** $[-]$ 左对齐输出  $[+]$ 对正数加正号  $[0]$ 指定空位填零   $[m]$ 指定最小宽度  $[.n]$ 指定精度   $格式字符$ 指定类型

**字符：** s, r, c, b, d, i, o, x, e, E, f, F, g, G 

### format() 字符串格式化：

**特点：** 使用位置、关键参数格式化，支持序列解包，更加受到推荐

**部分用法实例：** 

```python
'{0:.3f}'.format(0.35) # 0.350
'{0:%}'.format(0.35) # 35%
'{0:_}'.format(100000)  # 100_000  指定参数
'{0:,};{0:x}'.format(5555)  # 5,555;12b3
'{0[0]},{0[1]}'.format((1,2))  # 1,2  序列解包
```

### Template 模板格式化

```python
from string import Template
t = Template('My name is ${name}, and is ${age} years old.') # 创建模板
d = {'name':'Aaron He', 'age':20}  # 指定变量
t.substitute(d)  # 进行替换
```



# 字符串常用操作

> 字符串对象是不可变的，所有修改字符串的方法都是返回新字符串，无一例外

### 查找和统计

`find` `rfind` :查找首次和最后一次出现的位置，不存在则返回-1

`index` `rindex` : 功能同上，不存在则抛出异常

`count` 统计字符串在另一个字符串的出现次数



### 分割和划分

`split` `rsplit`：指定分割符，从左端、右端进行分离；默认制表、空格都是分割符；`maxsplit` 参数可指定最大分割次数





